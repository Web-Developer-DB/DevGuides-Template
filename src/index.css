@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    font-family: 'Inter var', 'Inter', system-ui, -apple-system, 'Segoe UI', sans-serif;
    scroll-behavior: smooth;
  }

  body {
    @apply min-h-screen bg-slate-50 text-slate-900 antialiased transition-colors duration-300 ease-out dark:bg-dracula-background dark:text-dracula-text;
    background-attachment: fixed;
    background-size: cover;
    background-image: linear-gradient(180deg, rgba(248, 250, 252, 1) 0%, rgba(241, 245, 249, 1) 100%);
  }

  .dark body {
    background-image: radial-gradient(circle at 0% 0%, rgba(189, 147, 249, 0.18) 0%, transparent 45%),
      radial-gradient(circle at 100% 0%, rgba(139, 233, 253, 0.15) 0%, transparent 40%),
      linear-gradient(170deg, rgba(47, 48, 62, 1) 0%, rgba(25, 26, 35, 1) 100%);
  }

  ::selection {
    @apply bg-brand-500/40 text-white dark:bg-dracula-purple/50;
  }

  a {
    @apply text-brand-600 transition-colors duration-150 dark:text-dracula-purple;
  }

  a:hover {
    @apply text-brand-400 dark:text-dracula-pink;
  }
}

@layer components {
  .guide-markdown pre {
    @apply relative overflow-x-auto rounded-2xl border border-slate-200/80 bg-white/90 shadow-inner shadow-black/5 backdrop-blur dark:border-dracula-border/70 dark:bg-dracula-highlight/40 dark:shadow-black/20;
    background-image: linear-gradient(135deg, rgba(248, 250, 252, 0.95), rgba(226, 232, 240, 0.9));
  }

  .dark .guide-markdown pre {
    background-image: linear-gradient(140deg, rgba(52, 55, 78, 0.9), rgba(24, 25, 38, 0.95));
  }

  .guide-markdown pre code {
    @apply block min-w-full overflow-x-auto rounded-2xl bg-transparent p-6 font-mono text-sm leading-relaxed text-slate-900 dark:text-dracula-text;
  }

  .guide-markdown pre::before {
    content: attr(data-language);
    position: absolute;
    top: 1.1rem;
    right: 1.5rem;
    border-radius: 9999px;
    border: 1px solid rgba(255, 255, 255, 0.5);
    background: rgba(255, 255, 255, 0.8);
    padding: 0.1rem 0.75rem;
    font-size: 0.65rem;
    font-weight: 600;
    letter-spacing: 0.35em;
    text-transform: uppercase;
    color: #64748b;
  }

  .dark .guide-markdown pre::before {
    border-color: rgba(255, 255, 255, 0.15);
    background: rgba(255, 255, 255, 0.08);
    color: #b6c2e0;
  }

  .guide-markdown pre:not([data-language])::before {
    content: none;
  }

  .guide-markdown .hljs {
    color: #0f172a;
    background: transparent;
  }

  .dark .guide-markdown .hljs {
    color: #e2e8f0;
  }

  .guide-markdown .hljs-comment,
  .guide-markdown .hljs-quote {
    color: #94a3b8;
    font-style: italic;
  }

  .dark .guide-markdown .hljs-comment,
  .dark .guide-markdown .hljs-quote {
    color: #a5b4fc;
  }

  .guide-markdown .hljs-keyword,
  .guide-markdown .hljs-selector-tag,
  .guide-markdown .hljs-literal,
  .guide-markdown .hljs-name,
  .guide-markdown .hljs-built_in,
  .guide-markdown .hljs-type {
    color: #2563eb;
    font-weight: 600;
  }

  .dark .guide-markdown .hljs-keyword,
  .dark .guide-markdown .hljs-selector-tag,
  .dark .guide-markdown .hljs-literal,
  .dark .guide-markdown .hljs-name,
  .dark .guide-markdown .hljs-built_in,
  .dark .guide-markdown .hljs-type {
    color: #8be9fd;
  }

  .guide-markdown .hljs-string,
  .guide-markdown .hljs-title,
  .guide-markdown .hljs-section,
  .guide-markdown .hljs-attribute,
  .guide-markdown .hljs-template-tag,
  .guide-markdown .hljs-template-variable,
  .guide-markdown .hljs-addition {
    color: #0f9d58;
  }

  .dark .guide-markdown .hljs-string,
  .dark .guide-markdown .hljs-title,
  .dark .guide-markdown .hljs-section,
  .dark .guide-markdown .hljs-attribute,
  .dark .guide-markdown .hljs-template-tag,
  .dark .guide-markdown .hljs-template-variable,
  .dark .guide-markdown .hljs-addition {
    color: #a3e635;
  }

  .guide-markdown .hljs-number,
  .guide-markdown .hljs-symbol,
  .guide-markdown .hljs-bullet,
  .guide-markdown .hljs-meta {
    color: #b45309;
  }

  .dark .guide-markdown .hljs-number,
  .dark .guide-markdown .hljs-symbol,
  .dark .guide-markdown .hljs-bullet,
  .dark .guide-markdown .hljs-meta {
    color: #fbbf24;
  }
}
